<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Be My Valentine?</title>
  <style>
    :root {
      --bg: #fdf6f0;
      --bg-2: #f3f9ff;
      --card: rgba(255, 255, 255, 0.85);
      --accent: #ff8fab;
      --accent-2: #fbbc73;
      --text: #2f3a45;
      --muted: #51606c;
      --gold: #d4af37;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at 20% 20%, rgba(255, 143, 171, 0.25), transparent 32%),
                  radial-gradient(circle at 80% 15%, rgba(79, 181, 156, 0.2), transparent 32%),
                  linear-gradient(135deg, var(--bg), var(--bg-2));
      color: var(--text);
      font-family: "Poppins", "Segoe UI", sans-serif;
      overflow: hidden;
    }
    .card {
      position: relative;
      width: min(600px, 92vw);
      padding: 32px;
      border-radius: 24px;
      background: var(--card);
      border: 1px solid rgba(79, 181, 156, 0.12);
      box-shadow: 0 20px 60px rgba(47, 58, 69, 0.12);
      backdrop-filter: blur(10px);
      text-align: center;
      overflow: visible;
    }
    .card.cleared {
      background: transparent;
      border: none;
      box-shadow: none;
      backdrop-filter: none;
      pointer-events: none;
    }
    .card.cleared > *:not(#gifPanel) { display: none !important; }
    .card.cleared #gifPanel { display: flex !important; }
    .card::after {
      content: "";
      position: absolute;
      inset: -40% -20% 40% 50%;
      background: radial-gradient(circle at 20% 20%, rgba(79, 181, 156, 0.18), transparent 50%);
      transform: rotate(-8deg);
      pointer-events: none;
    }
    h1 {
      margin: 0 0 12px;
      font-size: clamp(26px, 4vw, 34px);
      letter-spacing: 0.5px;
    }
    .gold {
      color: var(--gold);
      font-weight: 800;
    }
    p {
      margin: 0 0 24px;
      color: var(--muted);
    }
    .buttons {
      position: relative;
      display: inline-flex;
      gap: 12px;
      align-items: center;
      justify-content: center;
      width: 100%;
      min-height: 80px;
      padding: 12px 0 6px;
    }
    button {
      border: none;
      border-radius: 999px;
      padding: 12px 22px;
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
      color: #0d0b1a;
    }
    .yes {
      background: linear-gradient(135deg, var(--accent), #ffcfdc);
      box-shadow: 0 10px 30px rgba(255, 143, 171, 0.35);
    }
    .yes:hover {
      transform: translateY(-1px) scale(1.02);
      box-shadow: 0 14px 40px rgba(255, 143, 171, 0.45);
    }
    .no {
      position: relative;
      background: #e8f2ff;
      color: #1f2a36;
      box-shadow: 0 8px 22px rgba(47, 58, 69, 0.16);
    }
    .no:hover { transform: translateY(-1px); }
    .floating {
      position: absolute;
      width: 180px;
      height: 180px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.15), transparent 70%);
      filter: blur(2px);
      animation: float 8s ease-in-out infinite alternate;
      pointer-events: none;
    }
    .floating.one { top: -60px; left: -50px; }
    .floating.two { bottom: -60px; right: -30px; animation-delay: 1.6s; }
    @keyframes float {
      from { transform: translateY(-10px) scale(1); }
      to { transform: translateY(16px) scale(1.06); }
    }
    .gif-panel {
      margin-top: 26px;
      display: none;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
      animation: pop 0.35s ease;
    }
    .gif-panel.visible { display: flex; }
    @keyframes pop {
      from { opacity: 0; transform: translateY(10px) scale(0.98); }
      to { opacity: 1; transform: translateY(0); }
    }
    .gif-panel img {
      width: min(480px, 95vw);
      height: min(480px, 75vh);
      object-fit: cover;            /* fill box, no letterbox */
      object-position: center 60%;  /* keep lower text visible */
      background: transparent;
      border-radius: 16px;
      border: 1px solid rgba(79, 181, 156, 0.18);
      box-shadow: 0 10px 24px rgba(47, 58, 69, 0.15);
      transition: opacity 0.5s ease;
    }
    .accept-msg {
      margin-top: 18px;
      font-size: 16px;
      font-weight: 600;
      color: var(--accent-2);
      display: none;
    }
    .accept-msg.visible { display: block; }
    .love-forever {
      width: 100%;
      text-align: center;
      margin-top: 14px;
      font-size: 20px;
      font-weight: 800;
      letter-spacing: 0.4px;
      opacity: 0;
      transform: translateY(10px);
    }
    .love-forever.show {
      animation: riseIn 0.8s ease forwards, bounceGlow 1.6s ease-in-out 0.2s infinite;
    }
    @keyframes riseIn {
      from { opacity: 0; transform: translateY(12px) scale(0.98); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }
    @keyframes bounceGlow {
      0%   { transform: translateY(0); color: #ff6fa3; text-shadow: 0 4px 18px rgba(255, 111, 163, 0.3); }
      25%  { transform: translateY(-6px); color: #ffb347; text-shadow: 0 6px 20px rgba(255, 179, 71, 0.35); }
      50%  { transform: translateY(0); color: #6dd5ed; text-shadow: 0 4px 18px rgba(109, 213, 237, 0.3); }
      75%  { transform: translateY(-5px); color: #a17fe0; text-shadow: 0 6px 20px rgba(161, 127, 224, 0.35); }
      100% { transform: translateY(0); color: #ff6fa3; text-shadow: 0 4px 18px rgba(255, 111, 163, 0.3); }
    }
    .hint {
      margin-top: 14px;
      font-size: 12px;
      color: rgba(47, 58, 69, 0.55);
    }
    .footer {
      margin-top: 14px;
      font-size: 12px;
      color: rgba(47, 58, 69, 0.6);
    }
    .hidden { display: none; }
    .yes {
      opacity: 0;
      transform: scale(0.4);
      transform-origin: center;
    }
    .yes.visible {
      display: inline-block;
      position: fixed;
      left: 50%;
      top: 50%;
      z-index: 50;
      transform: translate(-50%, -50%) scale(0.4);
      animation: growScreen 3s ease-in-out forwards;
      will-change: transform, opacity;
    }
    @keyframes growScreen {
      0%   { opacity: 0; transform: translate(-50%, -50%) scale(0.4); }
      25%  { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
      70%  { opacity: 1; transform: translate(-50%, -50%) scale(4); }
      100% { opacity: 1; transform: translate(-50%, -50%) scale(7); }
    }
    .love-banner {
      position: fixed;
      top: 16vh;
      left: 0;
      right: 0;
      width: max-content;
      margin: 0 auto;
      padding: 10px 18px;
      background: rgba(255, 143, 171, 0.18);
      border: 1px solid rgba(255, 143, 171, 0.28);
      border-radius: 999px;
      color: #d72f6a;
      font-weight: 800;
      letter-spacing: 1.1px;
      text-transform: uppercase;
      box-shadow: 0 10px 30px rgba(215, 47, 106, 0.25);
      white-space: nowrap;
      animation: loveSlide 6s linear infinite;
      z-index: 70;
    }
    .love-banner.hidden { display: none; }
    @keyframes loveSlide {
      0% { transform: translateX(-120%); }
      100% { transform: translateX(120%); }
    }
    .hearts {
      pointer-events: none;
      position: fixed;
      inset: 0;
      overflow: hidden;
      z-index: 60;
    }
    .heart {
      position: absolute;
      font-size: 22px;
      animation: floatHeart 4.5s ease-in forwards;
      opacity: 0.85;
    }
    @keyframes floatHeart {
      0%   { transform: translateY(10vh) translateX(0) scale(0.6); opacity: 0; }
      20%  { opacity: 1; }
      100% { transform: translateY(-120vh) translateX(12px) scale(1.2); opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="floating one"></div>
    <div class="floating two"></div>
    <h1>Hey <span class="gold">Gold</span>, will you be my Valentine for the rest of my life?</h1>
    <p>Just one click away. I dare you to try hitting "No".</p>
    <div class="buttons">
      <button class="yes hidden" id="yesBtn">Yes! ðŸ’•</button>
      <button class="no" id="noBtn">Nope</button>
    </div>
    <div class="accept-msg" id="acceptMsg">Knew it. You said yes! ðŸŽ‰</div>
    <div class="gif-panel" id="gifPanel"></div>
  </div>
  <script>
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const card = document.getElementById("card");
    const buttonsWrap = document.querySelector(".buttons");
    const gifPanel = document.getElementById("gifPanel");
    const acceptMsg = document.getElementById("acceptMsg");
    const heartsLayer = document.createElement("div");
    heartsLayer.className = "hearts";
    document.body.appendChild(heartsLayer);
    const loveMsg = document.createElement("div");
    document.body.appendChild(loveMsg);

    const gifs = [
      "./iknewit.gif",
      "./IMG_8136.JPG",
    ];

    function randomPosition(element) {
      const wrapRect = buttonsWrap.getBoundingClientRect();
      const btnRect = element.getBoundingClientRect();
      const padding = 8;
      const maxX = Math.max(0, wrapRect.width - btnRect.width - padding * 2);
      const maxY = Math.max(0, wrapRect.height - btnRect.height - padding * 2);
      const x = padding + Math.random() * maxX;
      const y = padding + Math.random() * maxY;
      element.style.position = "absolute";
      element.style.left = `${x}px`;
      element.style.top = `${y}px`;
      element.style.zIndex = 2;
    }

    function showGifs() {
      if (!gifPanel.firstElementChild) {
        const img = document.createElement("img");
        img.src = gifs[0];
        img.alt = "Happy gif";
        img.style.opacity = "0";
        img.onload = () => requestAnimationFrame(() => img.style.opacity = "1");
        gifPanel.appendChild(img);

        const loveLine = document.createElement("div");
        loveLine.className = "love-forever";
        loveLine.textContent = "Love you forever.";
        gifPanel.appendChild(loveLine);

        // Preload the second gif/image and swap after 3 seconds.
        if (gifs[1]) {
          const nextImg = new Image();
          nextImg.src = gifs[1];
          setTimeout(() => {
            img.style.opacity = "0";
            setTimeout(() => {
              img.src = nextImg.src;
              img.onload = () => {
                requestAnimationFrame(() => img.style.opacity = "1");
                loveLine.classList.add("show");
              };
            }, 400); // brief fade gap
          }, 3000);
        }
      }
      acceptMsg.classList.add("visible");
      gifPanel.classList.add("visible");
    }

    ["mouseenter", "click"].forEach(evt => {
      noBtn.addEventListener(evt, () => randomPosition(noBtn));
    });
    // Keep the button visible but slippery on load.
    randomPosition(noBtn);

    // Reveal the yes button after an 8-second tease with a growing animation.
    setTimeout(() => {
      yesBtn.classList.remove("hidden");
      yesBtn.classList.add("visible");
    }, 10000);

    function burstHearts(count = 18) {
      for (let i = 0; i < count; i++) {
        const heart = document.createElement("span");
        heart.className = "heart";
        heart.textContent = "ðŸ’•";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.bottom = "-10vh";
        heart.style.animationDelay = `${Math.random() * 0.8}s`;
        heart.style.fontSize = `${18 + Math.random() * 16}px`;
        heartsLayer.appendChild(heart);
        setTimeout(() => heart.remove(), 5000);
      }
    }

    function startHeartStream(duration = 5000) {
      burstHearts(40); // big opening burst
      const interval = setInterval(() => burstHearts(14), 350);
      setTimeout(() => clearInterval(interval), duration);
    }

    yesBtn.addEventListener("click", () => {
      showGifs();
      startHeartStream(5500);
      yesBtn.disabled = true;
      noBtn.disabled = true;
      buttonsWrap.style.display = "none";
      card.classList.add("cleared");
      loveMsg.classList.remove("hidden");
    });
  </script>
</body>
</html>
